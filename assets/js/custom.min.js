"use strict";var endtransition,endanimation,someImages;!function(e){function t(e){console.log("Loading "+e+" fragment"),n.load(e+" #products-grid-container")}var o="state"in window.history&&null!==window.history.state,i=location.href,a=e("#mobile-category-selector"),n=e("#products-grid-container").parent();a.on("change",function(){var e=this.value;t(e),history.pushState({page:e},null,e)}),e(window).bind("popstate",function(){var e,n=!o&&location.href==i;o=!0,n||(t(location.href),e=new URLSearchParams(location.search).get("products_cat"),a.find('option[value*="products_cat='+e+'"]').prop("selected","selected"))})}(jQuery),function(){var t,e,n,o;document.body.classList.contains("home")&&(t=new ScrollMagic.Controller,e=document.getElementById("gsap-item-1"),n=gsap.fromTo(e,1,{top:"100%",transform:"rotate(0deg)","-webkit-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)",ease:"none"},{top:"-100%",transform:"rotate(-45deg)","-webkit-transform":"rotate(-45deg)","-moz-transform":"rotate(-45deg)",ease:"none"}),new ScrollMagic.Scene({triggerHook:"onEnter",ease:Linear.easeNone,duration:"400%"}).setTween(n).addTo(t),(o=document.querySelectorAll(".toanimate")).length&&o.forEach(function(e,n){new ScrollMagic.Scene({triggerElement:e,triggerHook:"onEnter"}).setClassToggle(e,"is-animated").reverse(!1).addTo(t)}))}(),jQuery,endtransition={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],endanimation={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],jQuery(document).ready(function(t){var e=t(".products-cat-carousel > .wrapper");e.length&&e.slick({mobileFirst:!0,infinite:!1,arrows:!1,dots:!0,slidesToShow:1,rows:0,speed:1e3,customPaging:function(){return"<span></span>"},responsive:[{breakpoint:767.98,settings:{slidesToShow:2}},{breakpoint:991.98,settings:{slidesToShow:3}},{breakpoint:1199.98,settings:{slidesToShow:4}}]});var n=t("#claim-slideshow");n.length&&n.slick({mobileFirst:!0,arrows:!0,dots:!1,slidesToShow:1,rows:0,fade:!0,speed:1e3,prevArrow:'<button class="prev"><span></span></button>',nextArrow:'<button class="next"><span></span></button>'});var o=t("#special-projects-slideshow");o.length&&o.slick({mobileFirst:!0,arrows:!0,dots:!1,slidesToShow:1,rows:0,prevArrow:'<button class="prev"><span></span></button>',nextArrow:'<button class="next"><span></span></button>',lazyLoad:"progressive",responsive:[{breakpoint:991.98,settings:{variableWidth:!0}}]});var i=t("#latest-news");i.length&&i.slick({mobileFirst:!0,arrows:!1,dots:!0,slidesToShow:1,rows:0,speed:1e3,lazyLoad:"progressive",customPaging:function(){return"<span></span>"},responsive:[{breakpoint:767.98,settings:{slidesToShow:2}},{breakpoint:991.98,settings:{slidesToShow:3}},{breakpoint:1199.98,settings:{slidesToShow:4}}]}),t(window).load(function(){var e,n;t('body[class*="tax-"]').length&&(e=window.location.search,new URLSearchParams(e).has("filter_products_cat")&&(n=t("#filters-by-categories").offset().top-t("#header").height(),t("html,body").animate({scrollTop:n+"px"},1e3)))})});var feed,instagramWall=document.getElementById("instagram-wall");instagramWall&&(feed=new instagramFeed("#instagram-wall",instagramWall.dataset)).init();var $body=document.querySelector("body"),scrollPosition=0;function disableScroll(){scrollPosition=window.pageYOffset,$body.style.overflow="hidden",$body.style.position="fixed",$body.style.top="-".concat(scrollPosition,"px"),$body.style.width="100%"}function enableScroll(){$body.style.removeProperty("overflow"),$body.style.removeProperty("position"),$body.style.removeProperty("top"),$body.style.removeProperty("width"),window.scrollTo(0,scrollPosition)}!function(){var e=document.getElementById("trigger-menu"),n=document.getElementById("close-navigation"),t=document.documentElement;e.addEventListener("click",function(){t.classList.contains("menu-open")||(t.classList.add("menu-open"),disableScroll())}),n.addEventListener("click",function(){t.classList.contains("menu-open")&&(t.classList.remove("menu-open"),enableScroll())})}(),function(n){n("#site-navigation > .wrapper").on(endtransition,function(e){e.originalEvent.propertyName.includes("transform")&&!n("html").hasClass("menu-open")&&n("#nav .submenu-wrapper").hide()}),n('#nav li.menu-item-has-children > a[href="#"]').on("click",function(e){e.preventDefault(),n(this).next(".submenu-wrapper").slideToggle("800")})}(jQuery),jQuery(document).ready(function(e){var n=e("#similar-products");n.length&&n.find(".slideshow").slick({mobileFirst:!0,arrows:!0,dots:!1,slidesToShow:1,rows:0,lazyLoad:"progressive",speed:1e3,prevArrow:'<button class="prev"><span></span></button>',nextArrow:'<button class="next"><span></span></button>',responsive:[{breakpoint:767.98,settings:{slidesToShow:3}}]})});var _wp$i18n=wp.i18n,__=_wp$i18n.__,_x=_wp$i18n._x,_n=_wp$i18n._n,_nx=_wp$i18n._nx;!function(a){var s=a("input#subscribe-email"),e=a("input#nl_user_id"),n=a("form#subscribe-form"),t=n.find("#subscribe_policy"),o=a("button#subscribe-submit");t.on("change",function(){this.checked?o.prop("disabled",!1):o.prop("disabled",!0)}),s.on("keyup change",function(){""==this.value||null==this.value||null==this.value?e.val(""):e.val(md5(this.value))});function r(e,n,t){var o='<div class="valtenna-alert '+(e=void 0!==e?e:"info")+'">';return o+=(n=void 0!==n&&n)?"<h3>"+n+"</h3>":"",o+='<div class="message">'+t+"</div>",o+="</div>"}n.validate({rules:{email:{required:!0,email:!0}},messages:{email:{required:__("Questo campo è obbligatorio","valtenna"),email:__("Inserisci un indirizzo e-mail valido","valtenna")}},submitHandler:function(i){s.prop("readonly",!0),i.classList.add("submitting");var e=a(i).serialize();_iub.cons_instructions.push(["submit",{writeOnLocalStorage:!1,form:{selector:i},consent:{legal_notices:[{identifier:"privacy_policy"}]}},{success:function(){a.post(valtenna.ajaxurl,e,function(e){if(s.prop("readonly",!1),i.classList.remove("submitting"),!0===e.result)a.fancybox.open(r("success",__("Perfetto!","valtenna"),__("La tua iscrizione è stata effettuata con successo.","valtenna")));else{var n,t=e.code,o=__("Errore!","valtenna");switch(t){case"mailchimp_error":n=(n=__("Siamo spiacenti, ma qualcosa è andato storto durante il tentativo di iscrizione.<br/><br/>Dettaglio errore:<br/> %errordetail%","valtenna")).replace("%errordetail%",e.data);break;case"email_exists":n=__("Questo indirizzo e-mail sembra già essere presente nel nostro database.","valtenna");break;default:n=__("Si è verificato un problema tecnico. Riprova più tardi. Grazie.","valtenna")}a.fancybox.open(r("error",o,n))}})},error:function(){s.prop("readonly",!1),i.classList.remove("submitting"),a.fancybox.open(r("error",__("Errore!","valtenna"),__("Non ho potuto registrare il tuo consenso al trattamento dei dati personali e, quindi, registrare la tua iscrizione alla newsletter. Riprova più tardi. Grazie.","valtenna")))}}])}})}(jQuery);